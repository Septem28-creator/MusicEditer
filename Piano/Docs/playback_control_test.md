# 播放控制功能测试计划

## 1. 测试目标
验证播放控制功能的正确性和稳定性，包括暂停/继续、速度调节和音量控制功能。

## 2. 测试环境
- 操作系统: Windows 10/11
- .NET 版本: .NET 9.0
- 开发环境: Visual Studio 或 JetBrains Rider

## 3. 测试用例

### 3.1 暂停/继续功能测试
| 测试项 | 操作步骤 | 预期结果 |
|--------|----------|----------|
| 暂停功能 | 1. 启动音乐播放<br>2. 按下暂停键 | 1. 音乐播放暂停<br>2. 控制台输出"播放已暂停" |
| 继续功能 | 1. 在暂停状态下按下继续键 | 1. 音乐从暂停位置继续播放<br>2. 控制台输出"继续播放..." |
| 暂停时继续 | 1. 在未播放或已暂停状态下按下继续键 | 1. 控制台输出"没有暂停的播放任务" |

### 3.2 速度调节功能测试
| 测试项 | 操作步骤 | 预期结果 |
|--------|----------|----------|
| 设置BPM | 1. 调用SetSpeed方法设置不同的BPM值<br>2. 播放音乐 | 1. 音乐播放速度按设置的BPM变化<br>2. 控制台输出速度设置信息 |
| 设置速度倍数 | 1. 调用SetSpeedFactor方法设置不同的倍数值<br>2. 播放音乐 | 1. 音乐播放速度按设置的倍数变化<br>2. 控制台输出速度设置信息 |
| 无效值处理 | 1. 设置BPM为0或负数<br>2. 设置速度倍数为0或负数 | 1. 控制台输出错误信息<br>2. 速度设置不改变 |

### 3.3 音量控制功能测试
| 测试项 | 操作步骤 | 预期结果 |
|--------|----------|----------|
| 设置音量 | 1. 调用SetVolume方法设置不同的音量值(0.0-1.0)<br>2. 播放音乐 | 1. 音乐播放音量按设置值变化<br>2. 控制台输出音量设置信息 |
| 无效值处理 | 1. 设置音量为负数或大于1.0的值 | 1. 控制台输出错误信息<br>2. 音量设置不改变 |

### 3.4 综合测试
| 测试项 | 操作步骤 | 预期结果 |
|--------|----------|----------|
| 组合功能 | 1. 设置音量为0.5<br>2. 设置速度为80 BPM<br>3. 开始播放<br>4. 暂停播放<br>5. 设置音量为0.8<br>6. 设置速度为160 BPM<br>7. 继续播放 | 1. 音乐按设置的音量和速度播放<br>2. 暂停和继续功能正常工作<br>3. 暂停期间的设置变更在继续播放时生效 |

## 4. 测试音乐脚本
```
[BPM=120]
[KEY=C]

[VOICES]
[PART-MELODY]
C5(1/4) D5(1/4) E5(1/4) F5(1/4) |
G5(1/2) F5(1/2) |
E5(1/2) D5(1/2) |
C5(1) |
[/PART-MELODY]

[PART-HARMONY]
E4(1/2) G4(1/2) |
C5(1/2) E5(1/2) |
G4(1/2) F4(1/2) |
E4(1) |
[/PART-HARMONY]

[PART-BASS]
C3(1) |
G3(1) |
F3(1) |
C3(1) |
[/PART-BASS]
[/VOICES]
```